(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{106:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return b}));var c=n(51),o=n.n(c),r=n(53),a=n(104),s=n(1),i=n(54),u=n.n(i),l=n(0);function d(t){var e=t.order,n=t.onClick;return Object(l.jsx)("div",{className:"order",onClick:function(){return n(e._id)},children:Object(l.jsx)("p",{children:e.name})})}var p=n(73);function b(){var t=Object(s.useState)([]),e=Object(a.a)(t,2),n=e[0],c=e[1],i=Object(s.useState)(""),b=Object(a.a)(i,2),f=b[0],j=b[1];Object(s.useEffect)((function(){console.log("Client: Socket.io stands by...");var t=Object(p.io)("".concat("https://socket-beb.herokuapp.com"));t.on("connnection",(function(){console.log("connected to server")})),t.on("order-added",(function(t){console.log("Client: order-added"),c(t)})),t.on("order-edit",(function(t){console.log("Client: order-edit"),c(t)})),t.on("disconnect",(function(){console.log("Socket disconnecting")}))}),[]),Object(s.useEffect)((function(){(function(){var t=Object(r.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat("https://socket-beb.herokuapp.com","/books"));case 2:e=t.sent,n=e.data,c(n),console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),console.log("Client: Get data the first time")}),[]);var h=function(t){console.log("Submit Edit");try{(function(){var e=Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("".concat("https://socket-beb.herokuapp.com","/books/")+t,{name:f});case 2:n=e.sent,n.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){}};return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)("form",{onSubmit:function(t){console.log("Submit"),t.preventDefault();try{(function(){var t=Object(r.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat("https://socket-beb.herokuapp.com","/books"),{name:f});case 2:e=t.sent,e.data;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),j("")}catch(e){}},children:[Object(l.jsx)("input",{type:"text",onChange:function(t){return j(t.target.value)},value:f}),Object(l.jsx)("button",{type:"submit",children:"submit"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"orders-list",children:n&&n.map((function(t){return Object(l.jsxs)("div",{children:[" ",Object(l.jsx)(d,{order:t,onClick:h})," "]},t._id)}))})]})}}}]);
//# sourceMappingURL=4.78d62e59.chunk.js.map